import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./index-DwQS_Y10.js";import{u as ue,P as de,c as w,a as pe}from"./index-BRR7KkZm.js";import{u as Q}from"./index-DKCiyFsV.js";import{P as fe,D as Te}from"./index-ChTz41eB.js";import{u as he}from"./index-C-KcwZw6.js";import{R as me,A as ve,c as Z,C as xe,a as ge}from"./index-DeLz6dIA.js";import{P as ee}from"./index-CNOV0ziW.js";import{R as Ce}from"./index-CLkN5EXm.js";import{c as ye}from"./index-C2vczdB5.js";import{c as be}from"./utils-CDN07tui.js";import{B as j}from"./button-gDusbB4c.js";import"./index-D8uAi14N.js";import"./index-CRFEHIza.js";import"./index-Bls5tne7.js";import"./index-Bgmmd5SI.js";import"./index-CpLX3slL.js";import"./index-D63EQwXG.js";var je=Symbol("radix.slottable");function Pe(t){const r=({children:e})=>o.jsx(o.Fragment,{children:e});return r.displayName=`${t}.Slottable`,r.__radixId=je,r}var[N]=pe("Tooltip",[Z]),S=Z(),te="TooltipProvider",we=700,I="tooltip.open",[Re,H]=N(te),oe=t=>{const{__scopeTooltip:r,delayDuration:e=we,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:l}=t,c=s.useRef(!0),T=s.useRef(!1),a=s.useRef(0);return s.useEffect(()=>{const p=a.current;return()=>window.clearTimeout(p)},[]),o.jsx(Re,{scope:r,isOpenDelayedRef:c,delayDuration:e,onOpen:s.useCallback(()=>{window.clearTimeout(a.current),c.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:T,onPointerInTransitChange:s.useCallback(p=>{T.current=p},[]),disableHoverableContent:i,children:l})};oe.displayName=te;var L="Tooltip",[Ee,O]=N(L),re=t=>{const{__scopeTooltip:r,children:e,open:n,defaultOpen:i,onOpenChange:l,disableHoverableContent:c,delayDuration:T}=t,a=H(L,t.__scopeTooltip),p=S(r),[u,f]=s.useState(null),h=he(),d=s.useRef(0),m=c??a.disableHoverableContent,x=T??a.delayDuration,v=s.useRef(!1),[b,g]=ue({prop:n,defaultProp:i??!1,onChange:G=>{G?(a.onOpen(),document.dispatchEvent(new CustomEvent(I))):a.onClose(),l==null||l(G)},caller:L}),E=s.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),_=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,v.current=!1,g(!0)},[g]),D=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,g(!1)},[g]),F=s.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{v.current=!0,g(!0),d.current=0},x)},[x,g]);return s.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),o.jsx(me,{...p,children:o.jsx(Ee,{scope:r,contentId:h,open:b,stateAttribute:E,trigger:u,onTriggerChange:f,onTriggerEnter:s.useCallback(()=>{a.isOpenDelayedRef.current?F():_()},[a.isOpenDelayedRef,F,_]),onTriggerLeave:s.useCallback(()=>{m?D():(window.clearTimeout(d.current),d.current=0)},[D,m]),onOpen:_,onClose:D,disableHoverableContent:m,children:e})})};re.displayName=L;var M="TooltipTrigger",ne=s.forwardRef((t,r)=>{const{__scopeTooltip:e,...n}=t,i=O(M,e),l=H(M,e),c=S(e),T=s.useRef(null),a=Q(r,T,i.onTriggerChange),p=s.useRef(!1),u=s.useRef(!1),f=s.useCallback(()=>p.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(ve,{asChild:!0,...c,children:o.jsx(de.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:a,onPointerMove:w(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!l.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:w(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:w(t.onPointerDown,()=>{i.open&&i.onClose(),p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:w(t.onFocus,()=>{p.current||i.onOpen()}),onBlur:w(t.onBlur,i.onClose),onClick:w(t.onClick,i.onClose)})})});ne.displayName=M;var V="TooltipPortal",[_e,De]=N(V,{forceMount:void 0}),ie=t=>{const{__scopeTooltip:r,forceMount:e,children:n,container:i}=t,l=O(V,r);return o.jsx(_e,{scope:r,forceMount:e,children:o.jsx(ee,{present:e||l.open,children:o.jsx(fe,{asChild:!0,container:i,children:n})})})};ie.displayName=V;var R="TooltipContent",se=s.forwardRef((t,r)=>{const e=De(R,t.__scopeTooltip),{forceMount:n=e.forceMount,side:i="top",...l}=t,c=O(R,t.__scopeTooltip);return o.jsx(ee,{present:n||c.open,children:c.disableHoverableContent?o.jsx(ae,{side:i,...l,ref:r}):o.jsx(Le,{side:i,...l,ref:r})})}),Le=s.forwardRef((t,r)=>{const e=O(R,t.__scopeTooltip),n=H(R,t.__scopeTooltip),i=s.useRef(null),l=Q(r,i),[c,T]=s.useState(null),{trigger:a,onClose:p}=e,u=i.current,{onPointerInTransitChange:f}=n,h=s.useCallback(()=>{T(null),f(!1)},[f]),d=s.useCallback((m,x)=>{const v=m.currentTarget,b={x:m.clientX,y:m.clientY},g=Ne(b,v.getBoundingClientRect()),E=Se(b,g),_=Ie(x.getBoundingClientRect()),D=He([...E,..._]);T(D),f(!0)},[f]);return s.useEffect(()=>()=>h(),[h]),s.useEffect(()=>{if(a&&u){const m=v=>d(v,u),x=v=>d(v,a);return a.addEventListener("pointerleave",m),u.addEventListener("pointerleave",x),()=>{a.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",x)}}},[a,u,d,h]),s.useEffect(()=>{if(c){const m=x=>{const v=x.target,b={x:x.clientX,y:x.clientY},g=(a==null?void 0:a.contains(v))||(u==null?void 0:u.contains(v)),E=!Me(b,c);g?h():E&&(h(),p())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[a,u,c,p,h]),o.jsx(ae,{...t,ref:l})}),[Oe,Be]=N(L,{isInside:!1}),ke=Pe("TooltipContent"),ae=s.forwardRef((t,r)=>{const{__scopeTooltip:e,children:n,"aria-label":i,onEscapeKeyDown:l,onPointerDownOutside:c,...T}=t,a=O(R,e),p=S(e),{onClose:u}=a;return s.useEffect(()=>(document.addEventListener(I,u),()=>document.removeEventListener(I,u)),[u]),s.useEffect(()=>{if(a.trigger){const f=h=>{const d=h.target;d!=null&&d.contains(a.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[a.trigger,u]),o.jsx(Te,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:o.jsxs(xe,{"data-state":a.stateAttribute,...p,...T,ref:r,style:{...T.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(ke,{children:n}),o.jsx(Oe,{scope:e,isInside:!0,children:o.jsx(Ce,{id:a.contentId,role:"tooltip",children:i||n})})]})})});se.displayName=R;var le="TooltipArrow",Ae=s.forwardRef((t,r)=>{const{__scopeTooltip:e,...n}=t,i=S(e);return Be(le,e).isInside?null:o.jsx(ge,{...i,...n,ref:r})});Ae.displayName=le;function Ne(t,r){const e=Math.abs(r.top-t.y),n=Math.abs(r.bottom-t.y),i=Math.abs(r.right-t.x),l=Math.abs(r.left-t.x);switch(Math.min(e,n,i,l)){case l:return"left";case i:return"right";case e:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Se(t,r,e=5){const n=[];switch(r){case"top":n.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":n.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":n.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":n.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return n}function Ie(t){const{top:r,right:e,bottom:n,left:i}=t;return[{x:i,y:r},{x:e,y:r},{x:e,y:n},{x:i,y:n}]}function Me(t,r){const{x:e,y:n}=t;let i=!1;for(let l=0,c=r.length-1;l<r.length;c=l++){const T=r[l],a=r[c],p=T.x,u=T.y,f=a.x,h=a.y;u>n!=h>n&&e<(f-p)*(n-u)/(h-u)+p&&(i=!i)}return i}function He(t){const r=t.slice();return r.sort((e,n)=>e.x<n.x?-1:e.x>n.x?1:e.y<n.y?-1:e.y>n.y?1:0),Ve(r)}function Ve(t){if(t.length<=1)return t.slice();const r=[];for(let n=0;n<t.length;n++){const i=t[n];for(;r.length>=2;){const l=r[r.length-1],c=r[r.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))r.pop();else break}r.push(i)}r.pop();const e=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;e.length>=2;){const l=e[e.length-1],c=e[e.length-2];if((l.x-c.x)*(i.y-c.y)>=(l.y-c.y)*(i.x-c.x))e.pop();else break}e.push(i)}return e.pop(),r.length===1&&e.length===1&&r[0].x===e[0].x&&r[0].y===e[0].y?r:r.concat(e)}var Fe=oe,Ge=re,$e=ne,Ue=ie,ce=se;const qe=ye("z-50 overflow-hidden border-2 border-border bg-background px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",{variants:{variant:{default:"bg-background text-foreground",primary:"bg-primary text-primary-foreground",solid:"bg-black text-white"}},defaultVariants:{variant:"default"}}),ze=Fe,y=Ge,P=$e,C=s.forwardRef(({className:t,sideOffset:r=4,variant:e,...n},i)=>o.jsx(Ue,{children:o.jsx(ce,{ref:i,sideOffset:r,className:be(qe({variant:e,className:t})),...n})}));C.displayName=ce.displayName;C.__docgenInfo={description:"",methods:[],props:{sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}},composes:["VariantProps"]};const dt={title:"Components/Tooltip",component:y,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"RetroUI NeoBrutalist 스타일 툴팁."}}},decorators:[t=>o.jsx(ze,{children:o.jsx(t,{})})]},B={render:()=>o.jsxs(y,{children:[o.jsx(P,{asChild:!0,children:o.jsx(j,{variant:"outline",children:"Hover me"})}),o.jsx(C,{children:o.jsx("p",{children:"This is a tooltip"})})]})},k={render:()=>o.jsxs("div",{className:"flex items-center gap-8",children:[o.jsxs(y,{children:[o.jsx(P,{asChild:!0,children:o.jsx(j,{variant:"outline",children:"Top"})}),o.jsx(C,{side:"top",children:"Top tooltip"})]}),o.jsxs(y,{children:[o.jsx(P,{asChild:!0,children:o.jsx(j,{variant:"outline",children:"Right"})}),o.jsx(C,{side:"right",children:"Right tooltip"})]}),o.jsxs(y,{children:[o.jsx(P,{asChild:!0,children:o.jsx(j,{variant:"outline",children:"Bottom"})}),o.jsx(C,{side:"bottom",children:"Bottom tooltip"})]}),o.jsxs(y,{children:[o.jsx(P,{asChild:!0,children:o.jsx(j,{variant:"outline",children:"Left"})}),o.jsx(C,{side:"left",children:"Left tooltip"})]})]})},A={render:()=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(y,{children:[o.jsx(P,{asChild:!0,children:o.jsx(j,{variant:"outline",children:"Default"})}),o.jsx(C,{variant:"default",children:"Default variant"})]}),o.jsxs(y,{children:[o.jsx(P,{asChild:!0,children:o.jsx(j,{variant:"outline",children:"Primary"})}),o.jsx(C,{variant:"primary",children:"Primary variant"})]}),o.jsxs(y,{children:[o.jsx(P,{asChild:!0,children:o.jsx(j,{variant:"outline",children:"Solid"})}),o.jsx(C,{variant:"solid",children:"Solid variant"})]})]})};var $,U,q;B.parameters={...B.parameters,docs:{...($=B.parameters)==null?void 0:$.docs,source:{originalSource:`{
  render: () => <Tooltip>
      <TooltipTrigger asChild>
        <Button variant="outline">Hover me</Button>
      </TooltipTrigger>
      <TooltipContent>
        <p>This is a tooltip</p>
      </TooltipContent>
    </Tooltip>
}`,...(q=(U=B.parameters)==null?void 0:U.docs)==null?void 0:q.source}}};var z,Y,X;k.parameters={...k.parameters,docs:{...(z=k.parameters)==null?void 0:z.docs,source:{originalSource:`{
  render: () => <div className="flex items-center gap-8">
      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline">Top</Button>
        </TooltipTrigger>
        <TooltipContent side="top">Top tooltip</TooltipContent>
      </Tooltip>

      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline">Right</Button>
        </TooltipTrigger>
        <TooltipContent side="right">Right tooltip</TooltipContent>
      </Tooltip>

      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline">Bottom</Button>
        </TooltipTrigger>
        <TooltipContent side="bottom">Bottom tooltip</TooltipContent>
      </Tooltip>

      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline">Left</Button>
        </TooltipTrigger>
        <TooltipContent side="left">Left tooltip</TooltipContent>
      </Tooltip>
    </div>
}`,...(X=(Y=k.parameters)==null?void 0:Y.docs)==null?void 0:X.source}}};var K,W,J;A.parameters={...A.parameters,docs:{...(K=A.parameters)==null?void 0:K.docs,source:{originalSource:`{
  render: () => <div className="flex items-center gap-4">
      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline">Default</Button>
        </TooltipTrigger>
        <TooltipContent variant="default">Default variant</TooltipContent>
      </Tooltip>

      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline">Primary</Button>
        </TooltipTrigger>
        <TooltipContent variant="primary">Primary variant</TooltipContent>
      </Tooltip>

      <Tooltip>
        <TooltipTrigger asChild>
          <Button variant="outline">Solid</Button>
        </TooltipTrigger>
        <TooltipContent variant="solid">Solid variant</TooltipContent>
      </Tooltip>
    </div>
}`,...(J=(W=A.parameters)==null?void 0:W.docs)==null?void 0:J.source}}};const pt=["Default","Positions","Variants"];export{B as Default,k as Positions,A as Variants,pt as __namedExportsOrder,dt as default};
