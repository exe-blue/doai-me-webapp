import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{r as d}from"./index-DwQS_Y10.js";import{u as j}from"./index-DKCiyFsV.js";import{P as E,u as O,c as N,a as H}from"./index-BRR7KkZm.js";import{u as U}from"./index-51PM6oTJ.js";import{u as V}from"./index-CpLX3slL.js";import{P as G}from"./index-CNOV0ziW.js";import{c as K}from"./index-C2vczdB5.js";import{c as X}from"./utils-CDN07tui.js";import{C as $}from"./check-DXZjYRQi.js";var y="Checkbox",[J]=H(y),[Q,P]=J(y);function W(t){const{__scopeCheckbox:s,checked:r,children:i,defaultChecked:o,disabled:e,form:p,name:h,onCheckedChange:u,required:b,value:k="on",internal_do_not_use_render:l}=t,[f,v]=O({prop:r,defaultProp:o??!1,onChange:u,caller:y}),[C,x]=d.useState(null),[g,n]=d.useState(null),c=d.useRef(!1),R=C?!!p||!!C.closest("form"):!0,_={checked:f,disabled:e,setChecked:v,control:C,setControl:x,name:h,form:p,value:k,hasConsumerStoppedPropagationRef:c,required:b,defaultChecked:m(o)?!1:o,isFormControl:R,bubbleInput:g,setBubbleInput:n};return a.jsx(Q,{scope:s,..._,children:Y(l)?l(_):i})}var S="CheckboxTrigger",B=d.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:r,...i},o)=>{const{control:e,value:p,disabled:h,checked:u,required:b,setControl:k,setChecked:l,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:C}=P(S,t),x=j(o,k),g=d.useRef(u);return d.useEffect(()=>{const n=e==null?void 0:e.form;if(n){const c=()=>l(g.current);return n.addEventListener("reset",c),()=>n.removeEventListener("reset",c)}},[e,l]),a.jsx(E.button,{type:"button",role:"checkbox","aria-checked":m(u)?"mixed":u,"aria-required":b,"data-state":z(u),"data-disabled":h?"":void 0,disabled:h,value:p,...i,ref:x,onKeyDown:N(s,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:N(r,n=>{l(c=>m(c)?!0:!c),C&&v&&(f.current=n.isPropagationStopped(),f.current||n.stopPropagation())})})});B.displayName=S;var I=d.forwardRef((t,s)=>{const{__scopeCheckbox:r,name:i,checked:o,defaultChecked:e,required:p,disabled:h,value:u,onCheckedChange:b,form:k,...l}=t;return a.jsx(W,{__scopeCheckbox:r,checked:o,defaultChecked:e,disabled:h,required:p,onCheckedChange:b,name:i,form:k,value:u,internal_do_not_use_render:({isFormControl:f})=>a.jsxs(a.Fragment,{children:[a.jsx(B,{...l,ref:s,__scopeCheckbox:r}),f&&a.jsx(A,{__scopeCheckbox:r})]})})});I.displayName=y;var M="CheckboxIndicator",T=d.forwardRef((t,s)=>{const{__scopeCheckbox:r,forceMount:i,...o}=t,e=P(M,r);return a.jsx(G,{present:i||m(e.checked)||e.checked===!0,children:a.jsx(E.span,{"data-state":z(e.checked),"data-disabled":e.disabled?"":void 0,...o,ref:s,style:{pointerEvents:"none",...t.style}})})});T.displayName=M;var q="CheckboxBubbleInput",A=d.forwardRef(({__scopeCheckbox:t,...s},r)=>{const{control:i,hasConsumerStoppedPropagationRef:o,checked:e,defaultChecked:p,required:h,disabled:u,name:b,value:k,form:l,bubbleInput:f,setBubbleInput:v}=P(q,t),C=j(r,v),x=U(e),g=V(i);d.useEffect(()=>{const c=f;if(!c)return;const R=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(R,"checked").set,F=!o.current;if(x!==e&&w){const L=new Event("click",{bubbles:F});c.indeterminate=m(e),w.call(c,m(e)?!1:e),c.dispatchEvent(L)}},[f,x,e,o]);const n=d.useRef(m(e)?!1:e);return a.jsx(E.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??n.current,required:h,disabled:u,name:b,value:k,form:l,...s,tabIndex:-1,ref:C,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});A.displayName=q;function Y(t){return typeof t=="function"}function m(t){return t==="indeterminate"}function z(t){return m(t)?"indeterminate":t?"checked":"unchecked"}const Z=K("border-2 border-border rounded disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",outline:"",solid:"data-[state=checked]:bg-foreground data-[state=checked]:text-background"},size:{sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"}},defaultVariants:{variant:"default",size:"md"}}),D=d.forwardRef(({className:t,variant:s,size:r,...i},o)=>a.jsx(I,{ref:o,className:X(Z({variant:s,size:r}),t),...i,children:a.jsx(T,{className:"h-full w-full",children:a.jsx($,{className:"h-full w-full"})})}));D.displayName=I.displayName;D.__docgenInfo={description:"Checkbox - RetroUI NeoBrutalist 스타일 체크박스",methods:[],composes:["VariantProps"]};export{D as C};
