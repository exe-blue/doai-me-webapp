import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{r as d}from"./index-DwQS_Y10.js";import{c as me}from"./index-BdQq_4o_.js";import{u as _e,c as E,P as B,a as Ce}from"./index-BRR7KkZm.js";import{u as _}from"./index-DKCiyFsV.js";import{c as Me,u as Ie}from"./index-D5AAXRxa.js";import{u as Ae}from"./index-51PM6oTJ.js";import{u as Be}from"./index-CpLX3slL.js";import{c as Ke}from"./utils-CDN07tui.js";import"./index-D8uAi14N.js";import"./index-CRFEHIza.js";import"./index-Bls5tne7.js";var fe=["PageUp","PageDown"],pe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},C="Slider",[Y,Te,ke]=Me(C),[he]=Ce(C,[ke]),[He,O]=he(C),Se=d.forwardRef((e,t)=>{const{name:n,min:s=0,max:l=100,step:c=1,orientation:o="horizontal",disabled:i=!1,minStepsBetweenThumbs:u=0,defaultValue:h=[s],value:S,onValueChange:a=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:y,...v}=e,p=d.useRef(new Set),f=d.useRef(0),b=o==="horizontal"?ze:Oe,[x=[],M]=_e({prop:S,defaultProp:h,onChange:w=>{var N;(N=[...p.current][f.current])==null||N.focus(),a(w)}}),L=d.useRef(x);function U(w){const j=$e(x,w);I(w,j)}function De(w){I(w,f.current)}function Ee(){const w=L.current[f.current];x[f.current]!==w&&m(x)}function I(w,j,{commit:N}={commit:!1}){const G=qe(c),F=Je(Math.round((w-s)/c)*c+s,G),A=me(F,[s,l]);M((D=[])=>{const P=Fe(D,A,j);if(Ge(P,u*c)){f.current=P.indexOf(A);const q=String(P)!==String(D);return q&&N&&m(P),q?P:D}else return D})}return r.jsx(He,{scope:e.__scopeSlider,name:n,disabled:i,min:s,max:l,valueIndexToChangeRef:f,thumbs:p.current,values:x,orientation:o,form:y,children:r.jsx(Y.Provider,{scope:e.__scopeSlider,children:r.jsx(Y.Slot,{scope:e.__scopeSlider,children:r.jsx(b,{"aria-disabled":i,"data-disabled":i?"":void 0,...v,ref:t,onPointerDown:E(v.onPointerDown,()=>{i||(L.current=x)}),min:s,max:l,inverted:g,onSlideStart:i?void 0:U,onSlideMove:i?void 0:De,onSlideEnd:i?void 0:Ee,onHomeKeyDown:()=>!i&&I(s,0,{commit:!0}),onEndKeyDown:()=>!i&&I(l,x.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:j})=>{if(!i){const F=fe.includes(w.key)||w.shiftKey&&pe.includes(w.key)?10:1,A=f.current,D=x[A],P=c*F*j;I(D+P,A,{commit:!0})}}})})})})});Se.displayName=C;var[ve,ge]=he(C,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ze=d.forwardRef((e,t)=>{const{min:n,max:s,dir:l,inverted:c,onSlideStart:o,onSlideMove:i,onSlideEnd:u,onStepKeyDown:h,...S}=e,[a,m]=d.useState(null),g=_(t,b=>m(b)),y=d.useRef(void 0),v=Ie(l),p=v==="ltr",f=p&&!c||!p&&c;function V(b){const x=y.current||a.getBoundingClientRect(),M=[0,x.width],U=X(M,f?[n,s]:[s,n]);return y.current=x,U(b-x.left)}return r.jsx(ve,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:r.jsx(be,{dir:v,"data-orientation":"horizontal",...S,ref:g,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const x=V(b.clientX);o==null||o(x)},onSlideMove:b=>{const x=V(b.clientX);i==null||i(x)},onSlideEnd:()=>{y.current=void 0,u==null||u()},onStepKeyDown:b=>{const M=xe[f?"from-left":"from-right"].includes(b.key);h==null||h({event:b,direction:M?-1:1})}})})}),Oe=d.forwardRef((e,t)=>{const{min:n,max:s,inverted:l,onSlideStart:c,onSlideMove:o,onSlideEnd:i,onStepKeyDown:u,...h}=e,S=d.useRef(null),a=_(t,S),m=d.useRef(void 0),g=!l;function y(v){const p=m.current||S.current.getBoundingClientRect(),f=[0,p.height],b=X(f,g?[s,n]:[n,s]);return m.current=p,b(v-p.top)}return r.jsx(ve,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:r.jsx(be,{"data-orientation":"vertical",...h,ref:a,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const p=y(v.clientY);c==null||c(p)},onSlideMove:v=>{const p=y(v.clientY);o==null||o(p)},onSlideEnd:()=>{m.current=void 0,i==null||i()},onStepKeyDown:v=>{const f=xe[g?"from-bottom":"from-top"].includes(v.key);u==null||u({event:v,direction:f?-1:1})}})})}),be=d.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:l,onSlideEnd:c,onHomeKeyDown:o,onEndKeyDown:i,onStepKeyDown:u,...h}=e,S=O(C,n);return r.jsx(B.span,{...h,ref:t,onKeyDown:E(e.onKeyDown,a=>{a.key==="Home"?(o(a),a.preventDefault()):a.key==="End"?(i(a),a.preventDefault()):fe.concat(pe).includes(a.key)&&(u(a),a.preventDefault())}),onPointerDown:E(e.onPointerDown,a=>{const m=a.target;m.setPointerCapture(a.pointerId),a.preventDefault(),S.thumbs.has(m)?m.focus():s(a)}),onPointerMove:E(e.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&l(a)}),onPointerUp:E(e.onPointerUp,a=>{const m=a.target;m.hasPointerCapture(a.pointerId)&&(m.releasePointerCapture(a.pointerId),c(a))})})}),we="SliderTrack",ye=d.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,l=O(we,n);return r.jsx(B.span,{"data-disabled":l.disabled?"":void 0,"data-orientation":l.orientation,...s,ref:t})});ye.displayName=we;var $="SliderRange",Re=d.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,l=O($,n),c=ge($,n),o=d.useRef(null),i=_(t,o),u=l.values.length,h=l.values.map(m=>Ve(m,l.min,l.max)),S=u>1?Math.min(...h):0,a=100-Math.max(...h);return r.jsx(B.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...s,ref:i,style:{...e.style,[c.startEdge]:S+"%",[c.endEdge]:a+"%"}})});Re.displayName=$;var W="SliderThumb",je=d.forwardRef((e,t)=>{const n=Te(e.__scopeSlider),[s,l]=d.useState(null),c=_(t,i=>l(i)),o=d.useMemo(()=>s?n().findIndex(i=>i.ref.current===s):-1,[n,s]);return r.jsx(Le,{...e,ref:c,index:o})}),Le=d.forwardRef((e,t)=>{const{__scopeSlider:n,index:s,name:l,...c}=e,o=O(W,n),i=ge(W,n),[u,h]=d.useState(null),S=_(t,V=>h(V)),a=u?o.form||!!u.closest("form"):!0,m=Be(u),g=o.values[s],y=g===void 0?0:Ve(g,o.min,o.max),v=Ye(s,o.values.length),p=m==null?void 0:m[i.size],f=p?We(p,y,i.direction):0;return d.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${y}% + ${f}px)`},children:[r.jsx(Y.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(B.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...c,ref:S,style:g===void 0?{display:"none"}:e.style,onFocus:E(e.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),a&&r.jsx(Pe,{name:l??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},s)]})});je.displayName=W;var Ue="RadioBubbleInput",Pe=d.forwardRef(({__scopeSlider:e,value:t,...n},s)=>{const l=d.useRef(null),c=_(l,s),o=Ae(t);return d.useEffect(()=>{const i=l.current;if(!i)return;const u=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&S){const a=new Event("input",{bubbles:!0});S.call(i,t),i.dispatchEvent(a)}},[o,t]),r.jsx(B.input,{style:{display:"none"},...n,ref:c,defaultValue:t})});Pe.displayName=Ue;function Fe(e=[],t,n){const s=[...e];return s[n]=t,s.sort((l,c)=>l-c)}function Ve(e,t,n){const c=100/(n-t)*(e-t);return me(c,[0,100])}function Ye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function $e(e,t){if(e.length===1)return 0;const n=e.map(l=>Math.abs(l-t)),s=Math.min(...n);return n.indexOf(s)}function We(e,t,n){const s=e/2,c=X([0,50],[0,s]);return(s-c(t)*n)*n}function Xe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Ge(e,t){if(t>0){const n=Xe(e);return Math.min(...n)>=t}return!0}function X(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function qe(e){return(String(e).split(".")[1]||"").length}function Je(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Ne=Se,Qe=ye,Ze=Re,et=je;const R=d.forwardRef(({className:e,...t},n)=>r.jsxs(Ne,{ref:n,className:Ke("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx(Qe,{className:"relative h-3 w-full grow overflow-hidden bg-background border-2 border-border",children:r.jsx(Ze,{className:"absolute h-full bg-primary"})}),r.jsx(et,{className:"block h-4.5 w-4.5 border-2 border-border bg-background shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));R.displayName=Ne.displayName;R.__docgenInfo={description:`Slider - RetroUI NeoBrutalist 스타일 슬라이더\r
@see https://www.retroui.dev/docs/components/slider`,methods:[]};const ft={title:"Components/Slider",component:R,tags:["autodocs"],parameters:{layout:"centered",docs:{description:{component:"NeoBrutalist 스타일 슬라이더."}}}},K={render:()=>r.jsx(R,{defaultValue:[50],max:100,step:1,className:"w-[300px]"})},T={render:function(){const[t,n]=d.useState([33]);return r.jsxs("div",{className:"w-[300px] space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[r.jsx("span",{children:"Value"}),r.jsxs("span",{children:[t[0],"%"]})]}),r.jsx(R,{value:t,onValueChange:n,max:100,step:1})]})}},k={render:function(){const[t,n]=d.useState([25,75]);return r.jsxs("div",{className:"w-[300px] space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm font-bold",children:[r.jsx("span",{children:"Range"}),r.jsxs("span",{children:[t[0]," - ",t[1]]})]}),r.jsx(R,{value:t,onValueChange:n,max:100,step:1})]})}},H={render:()=>r.jsxs("div",{className:"w-[300px] space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"mb-2 text-sm font-bold",children:"Step: 1"}),r.jsx(R,{defaultValue:[50],max:100,step:1})]}),r.jsxs("div",{children:[r.jsx("p",{className:"mb-2 text-sm font-bold",children:"Step: 10"}),r.jsx(R,{defaultValue:[50],max:100,step:10})]}),r.jsxs("div",{children:[r.jsx("p",{className:"mb-2 text-sm font-bold",children:"Step: 25"}),r.jsx(R,{defaultValue:[50],max:100,step:25})]})]})},z={render:()=>r.jsx(R,{defaultValue:[50],max:100,step:1,disabled:!0,className:"w-[300px]"})};var J,Q,Z;K.parameters={...K.parameters,docs:{...(J=K.parameters)==null?void 0:J.docs,source:{originalSource:`{
  render: () => <Slider defaultValue={[50]} max={100} step={1} className="w-[300px]" />
}`,...(Z=(Q=K.parameters)==null?void 0:Q.docs)==null?void 0:Z.source}}};var ee,te,ne;T.parameters={...T.parameters,docs:{...(ee=T.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  render: function Render() {
    const [value, setValue] = useState([33]);
    return <div className="w-[300px] space-y-2">
        <div className="flex justify-between text-sm font-bold">
          <span>Value</span>
          <span>{value[0]}%</span>
        </div>
        <Slider value={value} onValueChange={setValue} max={100} step={1} />
      </div>;
  }
}`,...(ne=(te=T.parameters)==null?void 0:te.docs)==null?void 0:ne.source}}};var re,se,oe;k.parameters={...k.parameters,docs:{...(re=k.parameters)==null?void 0:re.docs,source:{originalSource:`{
  render: function Render() {
    const [value, setValue] = useState([25, 75]);
    return <div className="w-[300px] space-y-2">
        <div className="flex justify-between text-sm font-bold">
          <span>Range</span>
          <span>{value[0]} - {value[1]}</span>
        </div>
        <Slider value={value} onValueChange={setValue} max={100} step={1} />
      </div>;
  }
}`,...(oe=(se=k.parameters)==null?void 0:se.docs)==null?void 0:oe.source}}};var ae,ie,le;H.parameters={...H.parameters,docs:{...(ae=H.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  render: () => <div className="w-[300px] space-y-4">
      <div>
        <p className="mb-2 text-sm font-bold">Step: 1</p>
        <Slider defaultValue={[50]} max={100} step={1} />
      </div>
      <div>
        <p className="mb-2 text-sm font-bold">Step: 10</p>
        <Slider defaultValue={[50]} max={100} step={10} />
      </div>
      <div>
        <p className="mb-2 text-sm font-bold">Step: 25</p>
        <Slider defaultValue={[50]} max={100} step={25} />
      </div>
    </div>
}`,...(le=(ie=H.parameters)==null?void 0:ie.docs)==null?void 0:le.source}}};var ce,de,ue;z.parameters={...z.parameters,docs:{...(ce=z.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  render: () => <Slider defaultValue={[50]} max={100} step={1} disabled className="w-[300px]" />
}`,...(ue=(de=z.parameters)==null?void 0:de.docs)==null?void 0:ue.source}}};const pt=["Default","WithValue","Range","Steps","Disabled"];export{K as Default,z as Disabled,k as Range,H as Steps,T as WithValue,pt as __namedExportsOrder,ft as default};
