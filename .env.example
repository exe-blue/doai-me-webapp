# =============================================
# DoAi.Me 환경 변수 설정
# .env 파일로 복사 후 실제 값 입력
# =============================================

# -----------------------------------------
# 환경 설정
# -----------------------------------------
NODE_ENV="development"
# production | development

# 서버 바인딩 (Docker에서는 0.0.0.0 필수)
HOST="localhost"
# production: "0.0.0.0"
# development: "localhost"

# -----------------------------------------
# Supabase 설정 (필수)
# -----------------------------------------
SUPABASE_URL="https://your-project.supabase.co"
SUPABASE_KEY="your-supabase-service-role-key"
SUPABASE_ANON_KEY="your-supabase-anon-key"
# JWT 검증용 Secret (Supabase Dashboard > Settings > API > JWT Secret)
SUPABASE_JWT_SECRET="your-supabase-jwt-secret"
# 서버용 Service Role Key (RLS 우회)
SUPABASE_SERVICE_ROLE_KEY="your-supabase-service-role-key"

# Next.js 클라이언트용 (빌드 시 포함)
NEXT_PUBLIC_SUPABASE_URL="https://your-project.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY="your-supabase-anon-key"

# -----------------------------------------
# OpenAI 설정 (AI 댓글 생성용)
# -----------------------------------------
OPENAI_API_KEY="sk-your-openai-api-key"

# -----------------------------------------
# Server URLs (Docker 배포용)
# -----------------------------------------
# 프로덕션 도메인으로 변경
NEXT_PUBLIC_API_URL="https://doai.me/api"
NEXT_PUBLIC_SOCKET_URL="https://doai.me"

# CORS 설정 (쉼표로 구분하여 여러 origin 허용)
# 프로덕션: "https://doai.me,https://dashboard.doai.me"
# 개발: "http://localhost:3000,http://localhost:3001"
CORS_ORIGIN="http://localhost:3000"

# Dashboard URL (Vercel 배포 주소 또는 로컬)
DASHBOARD_URL="http://localhost:3000"

# -----------------------------------------
# 쿠키 설정 (프로덕션 전용)
# -----------------------------------------
# 쿠키가 적용될 도메인 (.으로 시작하면 서브도메인 포함)
# 프로덕션: ".doai.me"
# 개발: 설정하지 않음 (undefined)
# COOKIE_DOMAIN=".doai.me"

# 로컬 개발용
# NEXT_PUBLIC_API_URL="http://localhost:4000"
# NEXT_PUBLIC_SOCKET_URL="http://localhost:4000"
# CORS_ORIGIN="http://localhost:3000"

# -----------------------------------------
# Socket.io 서버 설정
# -----------------------------------------
SOCKET_PORT=4000

# -----------------------------------------
# Redis 설정 (BullMQ 큐 + 상태 캐시)
# -----------------------------------------
# 프로덕션에서는 Docker Compose에서 자동 설정됨
REDIS_URL="redis://localhost:6379"

# -----------------------------------------
# Worker 인증 토큰
# -----------------------------------------
# PC Worker가 서버에 연결할 때 사용하는 토큰
WORKER_SECRET_TOKEN="your-secure-worker-token"

# -----------------------------------------
# YouTube API 설정 (채널 모니터링용)
# -----------------------------------------
YOUTUBE_API_KEY="your-youtube-api-key"

# -----------------------------------------
# Desktop Agent 설정 (각 노드 PC에서 설정)
# -----------------------------------------
# 노드 식별자 (각 PC마다 고유해야 함)
NODE_ID="node_001"

# Worker 모드: auto | redis | socket
# - auto: REDIS_URL 있으면 redis, 없으면 socket
# - redis: Redis 직접 연결 (개발/내부망)
# - socket: Socket.IO 프록시 (프로덕션/외부)
WORKER_MODE="auto"

# ADB 경로 (기본: PATH에서 검색)
ADB_PATH="C:\platform-tools\adb.exe"

# -----------------------------------------
# 사이트 URL
# -----------------------------------------
NEXT_PUBLIC_SITE_URL="https://doai.me"
