<Window x:Class="DoaiDeviceFarm.Client.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="DOAI Device Farm - ìž…ë ¥ ë¯¸ëŸ¬ë§" 
        Height="500" Width="700"
        WindowStartupLocation="CenterScreen"
        Closing="Window_Closing">
    
    <Window.Resources>
        <!-- ìƒíƒœ í‘œì‹œìš© ìŠ¤íƒ€ì¼ -->
        <Style x:Key="StatusIndicator" TargetType="Ellipse">
            <Setter Property="Width" Value="16"/>
            <Setter Property="Height" Value="16"/>
            <Setter Property="Stroke" Value="#333"/>
            <Setter Property="StrokeThickness" Value="1"/>
        </Style>
        
        <Style x:Key="SectionHeader" TargetType="TextBlock">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
            <Setter Property="Foreground" Value="#333"/>
        </Style>
    </Window.Resources>
    
    <Grid Background="#F5F5F5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- í—¤ë” -->
        <Border Grid.Row="0" Background="#2196F3" Padding="16">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="ðŸŽ® DOAI Device Farm" FontSize="20" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text=" - ìž…ë ¥ ë¯¸ëŸ¬ë§ í´ë¼ì´ì–¸íŠ¸" FontSize="16" Foreground="#E3F2FD" VerticalAlignment="Bottom" Margin="8,0,0,2"/>
            </StackPanel>
        </Border>
        
        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <Grid Grid.Row="1" Margin="16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- ì„¤ì • íŒ¨ë„ -->
            <Border Grid.Column="0" Background="White" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.1"/>
                </Border.Effect>
                
                <StackPanel>
                    <TextBlock Text="âš™ï¸ ì„¤ì •" Style="{StaticResource SectionHeader}"/>
                    
                    <!-- ADB ê²½ë¡œ -->
                    <TextBlock Text="ADB ê²½ë¡œ:" Margin="0,8,0,4"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox x:Name="txtAdbPath" Grid.Column="0" Padding="8" 
                                 Text="C:\platform-tools\adb.exe"/>
                        <Button Grid.Column="1" Content="ì°¾ê¸°" Padding="12,8" Margin="4,0,0,0"
                                Click="BtnBrowseAdb_Click"/>
                    </Grid>
                    
                    <!-- ë””ë°”ì´ìŠ¤ ì„ íƒ -->
                    <TextBlock Text="ëŒ€ìƒ ë””ë°”ì´ìŠ¤:" Margin="0,12,0,4"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <ComboBox x:Name="cmbDevices" Grid.Column="0" Padding="8"/>
                        <Button Grid.Column="1" Content="ìƒˆë¡œê³ ì¹¨" Padding="12,8" Margin="4,0,0,0"
                                Click="BtnRefreshDevices_Click"/>
                    </Grid>
                    
                    <!-- ëª¨ë‹ˆí„° ì„ íƒ -->
                    <TextBlock Text="ë¯¸ëŸ¬ë§ ëª¨ë‹ˆí„°:" Margin="0,12,0,4"/>
                    <ComboBox x:Name="cmbMonitors" Padding="8" SelectionChanged="CmbMonitors_SelectionChanged"/>
                    
                    <!-- ìŠ¤ë§ˆíŠ¸í° í•´ìƒë„ -->
                    <TextBlock Text="ìŠ¤ë§ˆíŠ¸í° í•´ìƒë„:" Margin="0,12,0,4"/>
                    <StackPanel Orientation="Horizontal">
                        <TextBox x:Name="txtPhoneWidth" Width="80" Padding="8" Text="1080"/>
                        <TextBlock Text=" x " VerticalAlignment="Center"/>
                        <TextBox x:Name="txtPhoneHeight" Width="80" Padding="8" Text="2400"/>
                        <Button Content="ì ìš©" Padding="12,8" Margin="8,0,0,0"
                                Click="BtnApplyResolution_Click"/>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- ìƒíƒœ íŒ¨ë„ -->
            <Border Grid.Column="1" Background="White" CornerRadius="8" Padding="16" Margin="8,0,0,0">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="8" ShadowDepth="2" Opacity="0.1"/>
                </Border.Effect>
                
                <StackPanel>
                    <TextBlock Text="ðŸ“Š ìƒíƒœ" Style="{StaticResource SectionHeader}"/>
                    
                    <!-- ìº¡ì²˜ ìƒíƒœ -->
                    <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                        <Ellipse x:Name="indicatorCapture" Style="{StaticResource StatusIndicator}" Fill="#E0E0E0"/>
                        <TextBlock x:Name="txtCaptureStatus" Text="ìº¡ì²˜ ì¤‘ì§€ë¨" Margin="8,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <!-- ì•ˆì „ ëª¨ë“œ ìƒíƒœ -->
                    <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                        <Ellipse x:Name="indicatorSafeMode" Style="{StaticResource StatusIndicator}" Fill="#E0E0E0"/>
                        <TextBlock x:Name="txtSafeModeStatus" Text="ì •ìƒ ëª¨ë“œ" Margin="8,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <!-- ì¢Œí‘œ ì •ë³´ -->
                    <TextBlock Text="ë§ˆì§€ë§‰ ì¢Œí‘œ:" Margin="0,16,0,4"/>
                    <Border Background="#F5F5F5" CornerRadius="4" Padding="12">
                        <StackPanel>
                            <TextBlock x:Name="txtLastPcCoord" Text="PC: (-, -)"/>
                            <TextBlock x:Name="txtLastPhoneCoord" Text="Phone: (-, -)"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- ìŠ¤ì¼€ì¼ ì •ë³´ -->
                    <TextBlock Text="ìŠ¤ì¼€ì¼ ë¹„ìœ¨:" Margin="0,12,0,4"/>
                    <TextBlock x:Name="txtScaleInfo" Text="X: -, Y: -" Foreground="#666"/>
                    
                    <!-- ì´ë²¤íŠ¸ ì¹´ìš´í„° -->
                    <TextBlock Text="ì´ë²¤íŠ¸ ìˆ˜:" Margin="0,12,0,4"/>
                    <TextBlock x:Name="txtEventCount" Text="ì „ì†¡: 0 / ì˜¤ë¥˜: 0" Foreground="#666"/>
                </StackPanel>
            </Border>
        </Grid>
        
        <!-- í•˜ë‹¨ ì»¨íŠ¸ë¡¤ -->
        <Border Grid.Row="2" Background="White" Padding="16">
            <Border.Effect>
                <DropShadowEffect BlurRadius="4" ShadowDepth="-2" Opacity="0.1" Direction="90"/>
            </Border.Effect>
            
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- ë¡œê·¸ ì˜ì—­ -->
                <Border Grid.Column="0" Background="#F5F5F5" CornerRadius="4" Padding="8" Margin="0,0,16,0">
                    <TextBox x:Name="txtLog" IsReadOnly="True" BorderThickness="0" Background="Transparent"
                             FontFamily="Consolas" FontSize="11" TextWrapping="Wrap"
                             VerticalScrollBarVisibility="Auto" MaxHeight="60"
                             Text="[ì‹œìŠ¤í…œ] ì´ˆê¸°í™” ì™„ë£Œ. ë””ë°”ì´ìŠ¤ë¥¼ ì„ íƒí•˜ê³  ìº¡ì²˜ë¥¼ ì‹œìž‘í•˜ì„¸ìš”."/>
                </Border>
                
                <!-- ì‹œìž‘/ì¤‘ì§€ ë²„íŠ¼ -->
                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button x:Name="btnStart" Content="â–¶ ìº¡ì²˜ ì‹œìž‘" Padding="24,12"
                            Background="#4CAF50" Foreground="White" FontWeight="Bold"
                            Click="BtnStart_Click"/>
                    <Button x:Name="btnStop" Content="â¹ ì¤‘ì§€" Padding="24,12" Margin="8,0,0,0"
                            Background="#F44336" Foreground="White" FontWeight="Bold"
                            IsEnabled="False" Click="BtnStop_Click"/>
                    <Button x:Name="btnResetSafeMode" Content="ðŸ”„ ì•ˆì „ëª¨ë“œ í•´ì œ" Padding="16,12" Margin="8,0,0,0"
                            Visibility="Collapsed" Click="BtnResetSafeMode_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
